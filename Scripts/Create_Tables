-- Table for storing Merchant information
CREATE TABLE MERCHANT (
    MERCHANT_ID NUMBER PRIMARY KEY,
    NAME VARCHAR2(255) NOT NULL,
    DEPARTMENT VARCHAR2(100),
    MUNICIPALITY VARCHAR2(100),
    PHONE VARCHAR2(20),
    EMAIL VARCHAR2(255),
    REGISTER_DATE DATE DEFAULT SYSDATE,
    STATUS VARCHAR2(20) CHECK (STATUS IN ('Registered', 'Active', 'Inactive', 'Suspended', 'Cancelled')),
    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED_BY VARCHAR2(50)
);

-- Table for storing Establishment information
CREATE TABLE ESTABLISHMENT (
    ESTABLISHMENT_ID NUMBER PRIMARY KEY,
    MERCHANT_ID NUMBER,
    NAME VARCHAR2(255) NOT NULL,
    INCOME DECIMAL(15, 2),
    EMPLOYEE_COUNT NUMBER,
    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED_BY VARCHAR2(50),
    CONSTRAINT FK_ESTABLISHMENT_MERCHANT FOREIGN KEY (MERCHANT_ID) REFERENCES MERCHANT(MERCHANT_ID)
);